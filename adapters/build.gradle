apply from: 'glfw.gradle'
apply from: 'hid-usb.gradle'

subprojects {
    apply plugin: 'java-library'

    dependencies {
        api project(':api')

        if(isGLFWProject(project)) {
            glfwSetup(project)

            /*
             * TODO: Find a way to add these dependencies from glfw.gradle.
             * If determined to be impossible, remove this comment.
             */
            /* DO NOT EDIT THIS BLOCK: it is generated by LWJGL ------------ */
            implementation "org.lwjgl:lwjgl"
            implementation "org.lwjgl:lwjgl-glfw"
            implementation platform("org.lwjgl:lwjgl-bom:$project.lwjglVersion")

            runtimeOnly "org.lwjgl:lwjgl::$project.lwjglNatives"
            runtimeOnly "org.lwjgl:lwjgl-glfw::$project.lwjglNatives"
            /* ------------------------------------------------------------- */
        } else if(isHidUsbProject(project)) {
            /*
             * TODO: Find a way to add these dependencies from hid-usb.gradle.
             * If determined to be impossible, remove this comment.
             */
            implementation 'javax.usb:usb-api:1.0.2'
            implementation 'net.java.dev.jna:jna:5.9.0'
            implementation 'org.hid4java:hid4java:0.7.0'
            implementation 'org.usb4java:usb4java:1.3.0'
            implementation 'org.usb4java:usb4java-javax:1.3.0'
        }
    }

    archivesBaseName = "${rootProject.name}-${this.name}-${project.name}"
}
